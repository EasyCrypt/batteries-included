<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="BatIO.html">
<link rel="next" href="BatInnerIO.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of class methods" rel=Appendix href="index_methods.html">
<link title="Index of classes" rel=Appendix href="index_classes.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="BatArray" rel="Chapter" href="BatArray.html">
<link title="BatAvlTree" rel="Chapter" href="BatAvlTree.html">
<link title="BatBase64" rel="Chapter" href="BatBase64.html">
<link title="BatBig_int" rel="Chapter" href="BatBig_int.html">
<link title="BatBigarray" rel="Chapter" href="BatBigarray.html">
<link title="BatBitSet" rel="Chapter" href="BatBitSet.html">
<link title="BatBool" rel="Chapter" href="BatBool.html">
<link title="BatBounded" rel="Chapter" href="BatBounded.html">
<link title="BatBuffer" rel="Chapter" href="BatBuffer.html">
<link title="BatBytes" rel="Chapter" href="BatBytes.html">
<link title="BatBytesCompat" rel="Chapter" href="BatBytesCompat.html">
<link title="BatCache" rel="Chapter" href="BatCache.html">
<link title="BatChar" rel="Chapter" href="BatChar.html">
<link title="BatCharParser" rel="Chapter" href="BatCharParser.html">
<link title="BatComplex" rel="Chapter" href="BatComplex.html">
<link title="BatConcreteQueue" rel="Chapter" href="BatConcreteQueue.html">
<link title="BatConcurrent" rel="Chapter" href="BatConcurrent.html">
<link title="BatDeque" rel="Chapter" href="BatDeque.html">
<link title="BatDigest" rel="Chapter" href="BatDigest.html">
<link title="BatDllist" rel="Chapter" href="BatDllist.html">
<link title="BatDynArray" rel="Chapter" href="BatDynArray.html">
<link title="BatEnum" rel="Chapter" href="BatEnum.html">
<link title="BatFile" rel="Chapter" href="BatFile.html">
<link title="BatFingerTree" rel="Chapter" href="BatFingerTree.html">
<link title="BatFloat" rel="Chapter" href="BatFloat.html">
<link title="BatFormat" rel="Chapter" href="BatFormat.html">
<link title="BatGc" rel="Chapter" href="BatGc.html">
<link title="BatGenlex" rel="Chapter" href="BatGenlex.html">
<link title="BatGlobal" rel="Chapter" href="BatGlobal.html">
<link title="BatHashcons" rel="Chapter" href="BatHashcons.html">
<link title="BatHashtbl" rel="Chapter" href="BatHashtbl.html">
<link title="BatHeap" rel="Chapter" href="BatHeap.html">
<link title="BatIMap" rel="Chapter" href="BatIMap.html">
<link title="BatIO" rel="Chapter" href="BatIO.html">
<link title="BatISet" rel="Chapter" href="BatISet.html">
<link title="BatInnerIO" rel="Chapter" href="BatInnerIO.html">
<link title="BatInnerPervasives" rel="Chapter" href="BatInnerPervasives.html">
<link title="BatInnerShuffle" rel="Chapter" href="BatInnerShuffle.html">
<link title="BatInnerWeaktbl" rel="Chapter" href="BatInnerWeaktbl.html">
<link title="BatInt" rel="Chapter" href="BatInt.html">
<link title="BatInt32" rel="Chapter" href="BatInt32.html">
<link title="BatInt64" rel="Chapter" href="BatInt64.html">
<link title="BatInterfaces" rel="Chapter" href="BatInterfaces.html">
<link title="BatLazyList" rel="Chapter" href="BatLazyList.html">
<link title="BatLexing" rel="Chapter" href="BatLexing.html">
<link title="BatList" rel="Chapter" href="BatList.html">
<link title="BatLog" rel="Chapter" href="BatLog.html">
<link title="BatLogger" rel="Chapter" href="BatLogger.html">
<link title="BatMap" rel="Chapter" href="BatMap.html">
<link title="BatMarshal" rel="Chapter" href="BatMarshal.html">
<link title="BatMultiMap" rel="Chapter" href="BatMultiMap.html">
<link title="BatMultiPMap" rel="Chapter" href="BatMultiPMap.html">
<link title="BatMutex" rel="Chapter" href="BatMutex.html">
<link title="BatNativeint" rel="Chapter" href="BatNativeint.html">
<link title="BatNum" rel="Chapter" href="BatNum.html">
<link title="BatNumber" rel="Chapter" href="BatNumber.html">
<link title="BatOo" rel="Chapter" href="BatOo.html">
<link title="BatOpaqueInnerSys" rel="Chapter" href="BatOpaqueInnerSys.html">
<link title="BatOptParse" rel="Chapter" href="BatOptParse.html">
<link title="BatOption" rel="Chapter" href="BatOption.html">
<link title="BatOrd" rel="Chapter" href="BatOrd.html">
<link title="BatParserCo" rel="Chapter" href="BatParserCo.html">
<link title="BatPathGen" rel="Chapter" href="BatPathGen.html">
<link title="BatPervasives" rel="Chapter" href="BatPervasives.html">
<link title="BatPrintexc" rel="Chapter" href="BatPrintexc.html">
<link title="BatPrintf" rel="Chapter" href="BatPrintf.html">
<link title="BatQueue" rel="Chapter" href="BatQueue.html">
<link title="BatRMutex" rel="Chapter" href="BatRMutex.html">
<link title="BatRandom" rel="Chapter" href="BatRandom.html">
<link title="BatRef" rel="Chapter" href="BatRef.html">
<link title="BatRefList" rel="Chapter" href="BatRefList.html">
<link title="BatResult" rel="Chapter" href="BatResult.html">
<link title="BatReturn" rel="Chapter" href="BatReturn.html">
<link title="BatScanf" rel="Chapter" href="BatScanf.html">
<link title="BatSeq" rel="Chapter" href="BatSeq.html">
<link title="BatSet" rel="Chapter" href="BatSet.html">
<link title="BatSplay" rel="Chapter" href="BatSplay.html">
<link title="BatStack" rel="Chapter" href="BatStack.html">
<link title="BatStream" rel="Chapter" href="BatStream.html">
<link title="BatString" rel="Chapter" href="BatString.html">
<link title="BatSubstring" rel="Chapter" href="BatSubstring.html">
<link title="BatSys" rel="Chapter" href="BatSys.html">
<link title="BatText" rel="Chapter" href="BatText.html">
<link title="BatTuple" rel="Chapter" href="BatTuple.html">
<link title="BatUChar" rel="Chapter" href="BatUChar.html">
<link title="BatUTF8" rel="Chapter" href="BatUTF8.html">
<link title="BatUnit" rel="Chapter" href="BatUnit.html">
<link title="BatUnix" rel="Chapter" href="BatUnix.html">
<link title="BatUref" rel="Chapter" href="BatUref.html">
<link title="BatVect" rel="Chapter" href="BatVect.html">
<link title="Batteries" rel="Chapter" href="Batteries.html">
<link title="BatteriesConfig" rel="Chapter" href="BatteriesConfig.html">
<link title="BatteriesExceptionless" rel="Chapter" href="BatteriesExceptionless.html">
<link title="BatteriesPrint" rel="Chapter" href="BatteriesPrint.html">
<link title="BatteriesThread" rel="Chapter" href="BatteriesThread.html">
<link title="Extlib" rel="Chapter" href="Extlib.html"><title>Batteries user guide : BatISet</title>
</head>
<body>
<div class="navbar"><a class="pre" href="BatIO.html" title="BatIO">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="BatInnerIO.html" title="BatInnerIO">Next</a>
</div>
<h1>Module <a href="type_BatISet.html">BatISet</a></h1>

<pre><span id="MODULEBatISet"><span class="keyword">module</span> BatISet</span>: <code class="code"><span class="keyword">sig</span></code> <a href="BatISet.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
<div class="info-desc">
<p>DIET : Discrete Interval Encoding Trees</p>

<p>Sets of integers represented as ranges</p>

<p>This data structure is efficient for large sets of integers where
    many adjacent integers are all part of the set.  This will have
    higher overhead for sets with lots of point elements, but will be
    much more efficient for sets containing mostly ranges.</p>
</div>
</div>
<hr width="100%">

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> = <code class="type">(int * int) <a href="BatAvlTree.html#TYPEtree">BatAvlTree.tree</a></code> </pre>
<div class="info ">
<div class="info-desc">
<p>the underlying representation is a balanced tree of ranges</p>
</div>
</div>


<pre><span id="TYPEelt"><span class="keyword">type</span> <code class="type"></code>elt</span> = <code class="type">int</code> </pre>
<div class="info ">
<div class="info-desc">
<p>This kind of set only holds ints</p>
</div>
</div>


<pre><span id="VALempty"><span class="keyword">val</span> empty</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>The empty set</p>
</div>
</div>

<pre><span id="VALis_empty"><span class="keyword">val</span> is_empty</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p>Test whether a set is empty, returns <code class="code"><span class="keyword">true</span></code> if the set is empty.</p>
</div>
</div>

<pre><span id="VALmem"><span class="keyword">val</span> mem</span> : <code class="type">int -> <a href="BatISet.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p>test whether a given int is a member of the set</p>
</div>
</div>

<pre><span id="VALadd"><span class="keyword">val</span> add</span> : <code class="type">int -> <a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Add the given int to the set, returning a new set</p>
</div>
</div>

<pre><span id="VALadd_range"><span class="keyword">val</span> add_range</span> : <code class="type">int -> int -> <a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">add_range&nbsp;lo&nbsp;hi&nbsp;t</code> adds the range of integers <code class="code">lo,&nbsp;hi</code> (including both endpoints) to
    the given set, returning a new set</p>
</div>
<ul class="info-attributes">
<li><b>Raises</b> <code>Invalid_argument</code> if <code class="code">lo</code> &gt; <code class="code">hi</code></li>
</ul>
</div>

<pre><span id="VALsingleton"><span class="keyword">val</span> singleton</span> : <code class="type">int -> <a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Return the singleton set containing only the given element</p>
</div>
</div>

<pre><span id="VALremove"><span class="keyword">val</span> remove</span> : <code class="type">int -> <a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Remove an element from the given set, returning a new set</p>
</div>
</div>

<pre><span id="VALremove_range"><span class="keyword">val</span> remove_range</span> : <code class="type">int -> int -> <a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">remove_range&nbsp;lo&nbsp;hi&nbsp;t</code> removes a range of elements from the given set, returning a new set</p>
</div>
<ul class="info-attributes">
<li><b>Raises</b> <code>Invalid_argument</code> if <code class="code">lo</code> &gt; <code class="code">hi</code></li>
</ul>
</div>

<pre><span id="VALunion"><span class="keyword">val</span> union</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Compute the union of two sets.  This is the set whose elements are
    those elements in either input set.</p>
</div>
</div>

<pre><span id="VALinter"><span class="keyword">val</span> inter</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Compute the intersection of two sets.  This is the set whose
    elements are those in *both* of the input sets.</p>
</div>
</div>

<pre><span id="VALdiff"><span class="keyword">val</span> diff</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Compute the difference between two sets.  This is the set of
    elements that are in the first but not in the second. Unlike
    <code class="code">union</code> and <code class="code">inter</code>, order matters here.</p>
</div>
</div>

<pre><span id="VALcompl"><span class="keyword">val</span> compl</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Create the complement of the given set - i.e. the set of all
    values not in the input set.</p>
</div>
</div>

<pre><span id="VALcompare"><span class="keyword">val</span> compare</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p>Compare two sets.  It is not safe to use the polymorphic (&lt;) and
    related functions to compare these sets, as the tree representation
    used can balance in multiple ways.</p>
</div>
</div>

<pre><span id="VALequal"><span class="keyword">val</span> equal</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p>Test whether two sets are equal.  It is not safe to use the
    polymorphic (=) on these sets, as the same set can have multiple
    representations depending on how it was built.</p>
</div>
</div>

<pre><span id="VALord"><span class="keyword">val</span> ord</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a> -> <a href="BatOrd.html#TYPEorder">BatOrd.order</a></code></pre><div class="info ">
<div class="info-desc">
<p>Same as <code class="code">compare</code> but returns <code class="code"><span class="constructor">BatOrd</span>.<span class="constructor">Lt</span>&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">BatOrd</span>.<span class="constructor">Eq</span>&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">BatOrd</span>.<span class="constructor">Gt</span></code>
    instead of an int.</p>
</div>
</div>

<pre><span id="VALsubset"><span class="keyword">val</span> subset</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">subset&nbsp;t&nbsp;u</code> returns <code class="code"><span class="keyword">true</span></code> if <code class="code">t</code> is a subset of <code class="code">u</code></p>
</div>
</div>

<pre><span id="VALfrom"><span class="keyword">val</span> from</span> : <code class="type">int -> <a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">from&nbsp;x&nbsp;t</code> returns the portion of <code class="code">t</code> in the range <code class="code">x,&nbsp;max_int</code></p>
</div>
</div>

<pre><span id="VALafter"><span class="keyword">val</span> after</span> : <code class="type">int -> <a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">after&nbsp;x&nbsp;t</code> returns the portion of <code class="code">t</code> in the range <code class="code">x+1,&nbsp;max_int</code></p>
</div>
</div>

<pre><span id="VALuntil"><span class="keyword">val</span> until</span> : <code class="type">int -> <a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">until&nbsp;x&nbsp;t</code> returns the portion of <code class="code">t</code> in the range <code class="code">min_int,&nbsp;x</code></p>
</div>
</div>

<pre><span id="VALbefore"><span class="keyword">val</span> before</span> : <code class="type">int -> <a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">before&nbsp;x&nbsp;t</code> returns the portion of <code class="code">t</code> in the range <code class="code">min_int,&nbsp;x-1</code></p>
</div>
</div>

<pre><span id="VALiter"><span class="keyword">val</span> iter</span> : <code class="type">(int -> unit) -> <a href="BatISet.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">iter&nbsp;f&nbsp;t</code> calls <code class="code">f</code> once for each element of <code class="code">t</code></p>
</div>
</div>

<pre><span id="VALiter_range"><span class="keyword">val</span> iter_range</span> : <code class="type">(int -> int -> unit) -> <a href="BatISet.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">iter_range&nbsp;f&nbsp;t</code> calls <code class="code">f</code> once for each contiguous range of <code class="code">t</code>.
    The contiguous ranges of a set are sequences of adjacent integers
    all part of the set.</p>
</div>
</div>

<pre><span id="VALfold"><span class="keyword">val</span> fold</span> : <code class="type">(int -> 'a -> 'a) -> <a href="BatISet.html#TYPEt">t</a> -> 'a -> 'a</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">fold&nbsp;f&nbsp;t&nbsp;x0</code> returns the final result of merging each element of
    <code class="code">t</code> into <code class="code">x0</code> using merge function <code class="code">f</code></p>
</div>
</div>

<pre><span id="VALfold_range"><span class="keyword">val</span> fold_range</span> : <code class="type">(int -> int -> 'a -> 'a) -> <a href="BatISet.html#TYPEt">t</a> -> 'a -> 'a</code></pre><div class="info ">
<div class="info-desc">
<p>As fold, but operates on contiguous ranges</p>
</div>
</div>

<pre><span id="VALfor_all"><span class="keyword">val</span> for_all</span> : <code class="type">(int -> bool) -> <a href="BatISet.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p>Tests whether a predicate applies to all elements of the set</p>
</div>
</div>

<pre><span id="VALexists"><span class="keyword">val</span> exists</span> : <code class="type">(int -> bool) -> <a href="BatISet.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p>Test whether some element of a set satisfies a predicate</p>
</div>
</div>

<pre><span id="VALfilter"><span class="keyword">val</span> filter</span> : <code class="type">(int -> bool) -> <a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Builds the subset of those elements that satisfy the predicate</p>
</div>
</div>

<pre><span id="VALpartition"><span class="keyword">val</span> partition</span> : <code class="type">(int -> bool) -> <a href="BatISet.html#TYPEt">t</a> -> <a href="BatISet.html#TYPEt">t</a> * <a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>partitions the input set into two sets with elements that satisfy
    the predicate and those that don't</p>
</div>
</div>

<pre><span id="VALcardinal"><span class="keyword">val</span> cardinal</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p>Returns the number of elements in the set</p>
</div>
</div>

<pre><span id="VALelements"><span class="keyword">val</span> elements</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a> -> int list</code></pre><div class="info ">
<div class="info-desc">
<p>Returns a list of all elements in the set</p>
</div>
</div>

<pre><span id="VALranges"><span class="keyword">val</span> ranges</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a> -> (int * int) list</code></pre><div class="info ">
<div class="info-desc">
<p>Returns a list of all contiguous ranges in the set</p>
</div>
</div>

<pre><span id="VALmin_elt"><span class="keyword">val</span> min_elt</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p>Returns the minimum element in the set</p>
</div>
</div>

<pre><span id="VALmax_elt"><span class="keyword">val</span> max_elt</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p>Returns the maximum element in the set</p>
</div>
</div>

<pre><span id="VALchoose"><span class="keyword">val</span> choose</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p>Returns some element in the set</p>
</div>
</div>

<pre><span id="VALenum"><span class="keyword">val</span> enum</span> : <code class="type"><a href="BatISet.html#TYPEt">t</a> -> (int * int) <a href="BatEnum.html#TYPEt">BatEnum.t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Enumerates all contiguous ranges in the set</p>
</div>
</div>

<pre><span id="VALof_enum"><span class="keyword">val</span> of_enum</span> : <code class="type">(int * int) <a href="BatEnum.html#TYPEt">BatEnum.t</a> -> <a href="BatISet.html#TYPEt">t</a></code></pre>
<pre><span id="VALof_list"><span class="keyword">val</span> of_list</span> : <code class="type">(int * int) list -> <a href="BatISet.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Build a ISet.t out of a list or enum of ranges</p>
</div>
</div>

<pre><span id="VALprint"><span class="keyword">val</span> print</span> : <code class="type">'a <a href="BatIO.html#TYPEoutput">BatIO.output</a> -> <a href="BatISet.html#TYPEt">t</a> -> unit</code></pre></body></html>